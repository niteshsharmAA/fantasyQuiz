<%- include("../../partials/head") %> <%-
include("../../partials/bodyStartWithNavBar/") %> <%-
include("../../partials/sideNav") %>

<div id="layoutSidenav_content">
  <main>
    <%- include("../../partials/alertMsg") %>
    <div class="page-header pb-10 page-header-dark bg-info">
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="col">
            <div class="page-header-content">
              <h1 class="page-header-title fs-md-35 fs-20">
                <div class="page-header-icon">
                  <i class="fad fa-at text-white"></i>
                </div> 
                <span class="text-capitalize">Stock Result Manager </span>
              </h1>
              <div class="page-header-subtitle fs-md-19 fs-14 text-capitalize">
                Contest Listing - All Contest
              </div>
            </div>
          </div>
          <div class="col-auto mb-md-0 mb-3"></div>
        </div>
      </div>
    </div>
    <form action="">
      <div class="col-md">
    <!-- start -->
    
      <div class="form-group my-3">
          <!-- over fantasy start -->
          <label for="Fantasy Type*" style="color:black;">Fantasy Type*</label>
         
      </div>
  </div>
</form>
    <!-- end -->
    <div class="container-fluid mt-n10">
      <script>
        $(window).on("load", function () {
          var success = "";
          var danger = "";
          var error = "";
          var warning = "";

          if (success) {
            $("#toastBasic4").toast("show");
          }

          if (danger || error) {
            $("#toastBasic3").toast("show");
          }

          if (warning) {
            $("#toastBasic2").toast("show");
          }
        });
      </script>

      <div class="card mb-4">
        <div class="card-header">Stock Contest Listing - All Stock Contest</div>
        <div class="card-body">
          <div class="datatable table-responsive">
            <table
              class="table table-bordered table-hover text-nowrap"
              id="match_details"
              width="100%"
              cellspacing="0"
            >
              <thead>
                <tr>
                  <th>Sno.</th>
                  <th>Contest Name</th>
                  <th>Contest Status</th>
                </tr>
              </thead>
              <tfoot>
                <tr>
                  <th>Sno.</th>
                  <th>Contest Name</th>
                  <th>Contest Status</th>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
      </div>

      <script type="text/javascript">
        $(document).ready(function () {
          $.fn.dataTable.ext.errMode = "none";
        
          // let fantasy_type = $("#matchkey_id").val();
          $("#match_details").DataTable({
            language: {
              zeroRecords: "No records to display",
            },
            ajax: {
              url: `/stock-result-table`,
              type: "POST",
            },
            lengthMenu: [
              [10, 25, 50],
              [10, 25, 50],
            ],
            columns: [
              {
                data: "count",
              },
              {
                data: "contest_name",
              },
              {
                data: "constest_status",
              },
            ],
          });
        });
      </script>

      <script
        type="text/javascript"
        src="https://cdn.datatables.net/v/dt/dt-1.10.16/r-2.2.1/datatables.min.js"
      ></script>

      <script>
        $(document).ready(function () {
          var table = $("#match_details").DataTable({
            responsive: true,
          });

          // Handle click on "Expand All" button
          $("#btn-show-all-children").on("click", function () {
            // Expand row details
            table
              .rows(":not(.parent)")
              .nodes()
              .to$()
              .find("td:first-child")
              .trigger("click");
          });

          // Handle click on "Collapse All" button
          $("#btn-hide-all-children").on("click", function () {
            // Collapse row details
            table
              .rows(".parent")
              .nodes()
              .to$()
              .find("td:first-child")
              .trigger("click");
          });
        });
      </script>
    </div>
  </main>

  <%- include("../../partials/footer") %>

  <script>
    $(window).on("load", function () {
      $("#preloader_admin").hide();
    });
  </script>

  <script>
    $("#b1").click(function () {
      const swalWithBootstrapButtons = Swal.mixin({
        customClass: {
          confirmButton: "btn btn-sm btn-success",
          cancelButton: "btn btn-sm btn-danger",
        },
        buttonsStyling: false,
      });

      swalWithBootstrapButtons
        .fire({
          title: "Are you sure?",
          text: "You won't be able to revert this!",
          icon: "success",
          showCancelButton: true,
          confirmButtonText: "Yes, delete it!",
          cancelButtonText: "No, cancel!",
          reverseButtons: true,
        })
        .then((result) => {
          if (result.isConfirmed) {
            swalWithBootstrapButtons.fire(
              "Deleted!",
              "Your file has been deleted.",
              "success"
            );
          } else if (
            /* Read more about handling dismissals below */
            result.dismiss === Swal.DismissReason.cancel
          ) {
            swalWithBootstrapButtons.fire(
              "Cancelled",
              "Your imaginary file is safe :)",
              "error"
            );
          }
        });
    });
  </script>

  <script>
    $("#special").on("click", function () {
      mySelect.find("option:selected").prop("disabled", true);
      mySelect.selectpicker("refresh");
    });

    $("#special2").on("click", function () {
      mySelect.find("option:disabled").prop("disabled", false);
      mySelect.selectpicker("refresh");
    });

    $("#basic2").selectpicker({
      liveSearch: true,
      maxOptions: 1,
    });
  </script>

  <script>
    $(document).ready(function () {
      if ($("#accordionSidenavPages a").hasClass("active")) {
        $("#accordionSidenavPages a.active")
          .parent()
          .parent()
          .prev("a")
          .removeClass("collapsed");
        $("#accordionSidenavPages a.active").parent().parent().addClass("show");
        // console.log(id);
      } else {
        $("#takeonebar").addClass("slamdown");
      }
    });
  </script>
  <script>
    $("#sortable, #sortable2").sortable();
  </script>
  <script>
    $(".alert").delay(3000).fadeOut();
  </script>

  <script type="text/javascript">
    $.datetimepicker.setLocale("en");
    $(".datetimepickerget").datetimepicker({
      lang: "en",
      formatDate: "d.m.Y",
      step: 5,
      startDate: new Date(),
    });
  </script>
  <script type="text/javascript">
    $(".datepicker").datepicker({
      lang: "en",
      formatDate: "d.m.Y",
      step: 5,
    });
  </script>

  <script type="text/javascript">
    $(document).ready(function () {
      $("#select_all").on("click", function () {
        if (this.checked) {
          $(".checkbox").each(function () {
            this.checked = true;
          });
        } else {
          $(".checkbox").each(function () {
            this.checked = false;
          });
        }
      });

      $(".checkbox").on("click", function () {
        if ($(".checkbox:checked").length == $(".checkbox").length) {
          $("#select_all").prop("checked", true);
        } else {
          $("#select_all").prop("checked", false);
        }
      });
    });
  </script>
  <script>
    function isNumberKey(evt) {
      //    <!--Function to accept only numeric values-->
      //var e = evt || window.event;

      var charCode = evt.which ? evt.which : evt.keyCode;
      if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57))
        return false;
      else {
        var itemdecimal = evt.srcElement.value.split(".");
        if (itemdecimal.length > 1 && charCode == 46) return false;

        return true;
      }
    }
  </script>

  <script>
    function divshowhide(value) {
      if (value == "specific") {
        $("#specificdiv").removeClass("d-none");
        $("#specificdiv1").show();
        $("#specificdiv2").show();
      } else {
        $("#specificdiv").addClass("d-none");
        $("#specificdiv1").hide();
        $("#specificdiv2").hide();
      }
    }

    function deletediv1(e, item) {
      $("#dsafd" + item).remove();
    }
  </script>

  <script>
    function readURL(input) {
      if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function (e) {
          $("#" + input.id + "-imagePreview").css(
            "background-image",
            "url(" + e.target.result + ")"
          );
          $("#" + input.id + "-imagePreview").hide();
          $("#" + input.id + "-imagePreview").fadeIn(650);
        };
        reader.readAsDataURL(input.files[0]);
      }
    }
    $(".imageUpload").change(function () {
      readURL(this);
    });
  </script>



  <script>
    /*jslint browser:true*/
    /*global jQuery, document*/

    jQuery(document).ready(function () {
      "use strict";

      jQuery(
        "#example-datetime-local-input, #example-datetime-local-input2, #start_date, #end_date, #dob-date, #expire_date"
      ).datetimepicker();
    });
  </script>

  <script>
    function copyToClipboard(element, element1) {
      var $temp = $("<input>");
      $("body").append($temp);
      $temp.val($(element).text()).select();
      document.execCommand("copy");
      $temp.remove();

      $(element1).addClass("copied_success animated bounceIn");
      setTimeout(RemoveClass, 1000);

      function RemoveClass() {
        $(element1).removeClass("copied_success animated bounceIn");
      }
    }
  </script>

  <script>
    function delete_sweet_alert(url, msg) {
      // sweet alert
      const swalWithBootstrapButtons = Swal.mixin({
        customClass: {
          confirmButton: "btn btn-sm btn-success ml-2",
          cancelButton: "btn btn-sm btn-danger",
        },
        buttonsStyling: false,
      });

      swalWithBootstrapButtons
        .fire({
          title: msg,
          text: "You won't be able to revert this!",
          icon: "success",
          showCancelButton: true,
          confirmButtonText: "Yes",
          cancelButtonText: "No",
          reverseButtons: true,
        })
        .then((result) => {
          if (result.isConfirmed) {
            swalWithBootstrapButtons.fire("", "Successfully Done", "success");

            window.location.href = url ;
          } else if (
            /* Read more about handling dismissals below */
            result.dismiss === Swal.DismissReason.cancel
          ) {
            swalWithBootstrapButtons.fire(
              "Cancelled",
              "Cancelled successfully :)",
              "error"
            );
            return false;
          }
        });
    }
  </script>
</div>
